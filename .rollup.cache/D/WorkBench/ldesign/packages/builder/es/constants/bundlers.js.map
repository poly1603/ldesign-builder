{"version":3,"file":"bundlers.js","sourceRoot":"","sources":["../../src/constants/bundlers.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * 打包器相关常量\n */\n\nimport type { BundlerType } from '../types/bundler'\nimport { BundlerFeature } from '../types/bundler'\n\n/**\n * 支持的打包器列表\n */\nexport const SUPPORTED_BUNDLERS: BundlerType[] = ['rollup', 'rolldown']\n\n/**\n * 默认打包器\n */\nexport const DEFAULT_BUNDLER: BundlerType = 'rollup'\n\n/**\n * 打包器信息\n */\nexport const BUNDLER_INFO = {\n  rollup: {\n    name: 'Rollup',\n    description: '成熟稳定的 JavaScript 模块打包器，专注于 ES 模块',\n    homepage: 'https://rollupjs.org',\n    repository: 'https://github.com/rollup/rollup',\n    minNodeVersion: '14.18.0',\n    stableVersion: '^4.0.0',\n    features: [\n      BundlerFeature.TREE_SHAKING,\n      BundlerFeature.CODE_SPLITTING,\n      BundlerFeature.DYNAMIC_IMPORT,\n      BundlerFeature.SOURCEMAP,\n      BundlerFeature.PLUGIN_SYSTEM,\n      BundlerFeature.CONFIG_FILE,\n      BundlerFeature.CACHE_SUPPORT\n    ]\n  },\n  \n  rolldown: {\n    name: 'Rolldown',\n    description: '基于 Rust 的高性能 JavaScript 打包器，兼容 Rollup API',\n    homepage: 'https://rolldown.rs',\n    repository: 'https://github.com/rolldown/rolldown',\n    minNodeVersion: '16.0.0',\n    stableVersion: '^0.1.0',\n    features: [\n      BundlerFeature.TREE_SHAKING,\n      BundlerFeature.CODE_SPLITTING,\n      BundlerFeature.DYNAMIC_IMPORT,\n      BundlerFeature.SOURCEMAP,\n      BundlerFeature.MINIFICATION,\n      BundlerFeature.PLUGIN_SYSTEM,\n      BundlerFeature.CONFIG_FILE,\n      BundlerFeature.CACHE_SUPPORT,\n      BundlerFeature.PARALLEL_BUILD,\n      BundlerFeature.INCREMENTAL_BUILD\n    ]\n  }\n} as const\n\n/**\n * 打包器性能特征\n */\nexport const BUNDLER_PERFORMANCE = {\n  rollup: {\n    buildSpeed: 'medium',\n    memoryUsage: 'medium',\n    startupTime: 'fast',\n    incrementalBuild: 'fair',\n    largeProjectSupport: 'good',\n    parallelProcessing: 'poor'\n  },\n  \n  rolldown: {\n    buildSpeed: 'very-fast',\n    memoryUsage: 'low',\n    startupTime: 'fast',\n    incrementalBuild: 'excellent',\n    largeProjectSupport: 'excellent',\n    parallelProcessing: 'excellent'\n  }\n} as const\n\n/**\n * 打包器兼容性\n */\nexport const BUNDLER_COMPATIBILITY = {\n  rollup: {\n    nodeVersion: '>=14.18.0',\n    platforms: ['win32', 'darwin', 'linux'],\n    architectures: ['x64', 'arm64'],\n    pluginCompatibility: {\n      rollup: 'full',\n      webpack: 'none',\n      vite: 'partial'\n    },\n    configCompatibility: {\n      rollup: true,\n      webpack: false,\n      vite: true\n    }\n  },\n  \n  rolldown: {\n    nodeVersion: '>=16.0.0',\n    platforms: ['win32', 'darwin', 'linux'],\n    architectures: ['x64', 'arm64'],\n    pluginCompatibility: {\n      rollup: 'partial',\n      webpack: 'none',\n      vite: 'partial'\n    },\n    configCompatibility: {\n      rollup: true,\n      webpack: false,\n      vite: false\n    }\n  }\n} as const\n\n/**\n * 打包器推荐使用场景\n */\nexport const BUNDLER_USE_CASES = {\n  rollup: [\n    '成熟的库项目',\n    '需要稳定性的生产环境',\n    '复杂的插件需求',\n    '对构建速度要求不高的项目',\n    '需要丰富插件生态的项目'\n  ],\n  \n  rolldown: [\n    '大型项目',\n    '对构建速度有高要求的项目',\n    '需要增量构建的项目',\n    '内存敏感的环境',\n    '现代化的新项目'\n  ]\n} as const\n\n/**\n * 打包器优缺点\n */\nexport const BUNDLER_PROS_CONS = {\n  rollup: {\n    pros: [\n      '成熟稳定，生产环境验证',\n      '丰富的插件生态系统',\n      '优秀的 Tree Shaking 支持',\n      '良好的文档和社区支持',\n      '配置简单直观'\n    ],\n    cons: [\n      '构建速度相对较慢',\n      '大型项目性能有限',\n      '内存使用较高',\n      '缺乏内置的并行处理'\n    ]\n  },\n  \n  rolldown: {\n    pros: [\n      '极快的构建速度',\n      '低内存使用',\n      '优秀的增量构建',\n      '内置并行处理',\n      '兼容 Rollup API'\n    ],\n    cons: [\n      '相对较新，生态系统有限',\n      '插件兼容性不完整',\n      '文档和社区支持有限',\n      '可能存在稳定性问题'\n    ]\n  }\n} as const\n\n/**\n * 打包器选择建议\n */\nexport const BUNDLER_SELECTION_CRITERIA = {\n  // 项目规模\n  projectSize: {\n    small: 'rollup',\n    medium: 'rollup',\n    large: 'rolldown',\n    enterprise: 'rolldown'\n  },\n  \n  // 构建速度要求\n  buildSpeed: {\n    low: 'rollup',\n    medium: 'rollup',\n    high: 'rolldown',\n    critical: 'rolldown'\n  },\n  \n  // 稳定性要求\n  stability: {\n    low: 'rolldown',\n    medium: 'rollup',\n    high: 'rollup',\n    critical: 'rollup'\n  },\n  \n  // 插件需求\n  pluginNeeds: {\n    minimal: 'rolldown',\n    moderate: 'rollup',\n    extensive: 'rollup',\n    custom: 'rollup'\n  }\n} as const\n\n/**\n * 打包器迁移难度\n */\nexport const MIGRATION_DIFFICULTY = {\n  'rollup-to-rolldown': 'easy',\n  'rolldown-to-rollup': 'easy'\n} as const\n\n/**\n * 打包器配置映射\n */\nexport const CONFIG_MAPPING = {\n  // Rollup 到 Rolldown 的配置映射\n  'rollup-to-rolldown': {\n    input: 'input',\n    output: 'output',\n    external: 'external',\n    plugins: 'plugins',\n    treeshake: 'treeshake',\n    // Rolldown 特有配置\n    platform: 'browser' // 默认值\n  },\n  \n  // Rolldown 到 Rollup 的配置映射\n  'rolldown-to-rollup': {\n    input: 'input',\n    output: 'output',\n    external: 'external',\n    plugins: 'plugins',\n    treeshake: 'treeshake'\n    // 忽略 platform 等 Rolldown 特有配置\n  }\n} as const\n\n/**\n * 打包器检测命令\n */\nexport const BUNDLER_DETECTION_COMMANDS = {\n  rollup: {\n    check: 'rollup --version',\n    install: 'npm install rollup --save-dev'\n  },\n  \n  rolldown: {\n    check: 'rolldown --version',\n    install: 'npm install rolldown --save-dev'\n  }\n} as const\n\n/**\n * 打包器默认配置\n */\nexport const BUNDLER_DEFAULT_CONFIG = {\n  rollup: {\n    treeshake: true,\n    output: {\n      format: 'esm',\n      sourcemap: true\n    }\n  },\n  \n  rolldown: {\n    treeshake: true,\n    platform: 'browser',\n    output: {\n      format: 'esm',\n      sourcemap: true\n    }\n  }\n} as const\n\n/**\n * 打包器错误处理\n */\nexport const BUNDLER_ERROR_PATTERNS = {\n  rollup: {\n    notFound: /Cannot find module 'rollup'/,\n    versionMismatch: /Rollup version .* is not supported/,\n    configError: /Could not resolve config file/,\n    buildError: /Build failed with \\d+ error/\n  },\n  \n  rolldown: {\n    notFound: /Cannot find module 'rolldown'/,\n    versionMismatch: /Rolldown version .* is not supported/,\n    configError: /Could not resolve config file/,\n    buildError: /Build failed with \\d+ error/\n  }\n} as const\n\n/**\n * 打包器性能基准\n */\nexport const PERFORMANCE_BENCHMARKS = {\n  // 小型项目 (< 100 文件)\n  small: {\n    rollup: { buildTime: '2-5s', memoryUsage: '100-200MB' },\n    rolldown: { buildTime: '0.5-1s', memoryUsage: '50-100MB' }\n  },\n  \n  // 中型项目 (100-500 文件)\n  medium: {\n    rollup: { buildTime: '10-30s', memoryUsage: '300-500MB' },\n    rolldown: { buildTime: '2-5s', memoryUsage: '100-200MB' }\n  },\n  \n  // 大型项目 (> 500 文件)\n  large: {\n    rollup: { buildTime: '60-180s', memoryUsage: '500MB-1GB' },\n    rolldown: { buildTime: '5-15s', memoryUsage: '200-400MB' }\n  }\n} as const\n"]}